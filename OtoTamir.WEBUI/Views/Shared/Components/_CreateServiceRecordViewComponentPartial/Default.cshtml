@model CreateSymptomGroupDTO

<form asp-action="CreateServiceRecord" asp-controller="ServiceRecord" method="post" class="border rounded shadow-sm p-3 mb-1 bg-light">

    <input type="hidden" asp-for="VehicleId" />
    <input type="hidden" asp-for="ReturnController" />
    <input type="hidden" asp-for="ReturnAction" />
    <input type="hidden" asp-for="ReturnId" />
    <div class="container-fluid">
        <div class="row align-items-start">
            <!-- Sol Taraf (Semptomlar için geniş alan) -->
            <div id="symptomContainer-@Model.VehicleId" class="col-md-8 pe-3" style="overflow-y: auto; max-height: 40vh;">
                <!-- JS ile semptomlar buraya eklenecek -->
            </div>

            <!-- Sağ Taraf (Yatay butonlar) -->
            <div class="col-md-4">
                <div class="d-flex flex-row gap-2 align-items-center p-2 bg-light rounded">
                    <!-- Yeni Semptom Ekle Butonu -->
                    <button type="button" class="btn btn-outline-secondary btn-sm flex-shrink-0"
                            onclick="addSymptomRow('symptomContainer-@Model.VehicleId')">
                        <i class="bi bi-plus-circle">Yeni Semptom Ekle</i>
                    </button>

                    <!-- Çalışan Input Grubu -->
                    <div class="d-flex align-items-center flex-grow-1">
                        <label asp-for="AuthorName" class="form-label fw-semibold me-2 mb-0">Çalışan:</label>
                        <input asp-for="AuthorName" class="form-control form-control-sm" style="min-width: 100px;" />
                    </div>

                    <!-- Kaydet Butonu -->
                    <button type="submit" class="btn btn-success btn-sm flex-shrink-0">
                        <i class="bi bi-check-circle">Kaydet</i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>

<script>
    // Sayfa yüklendiğinde ilk semptom satırı ekleniyor
    document.addEventListener("DOMContentLoaded", function () {
        addSymptomRow('symptomContainer-@Model.VehicleId');
    });
</script>
